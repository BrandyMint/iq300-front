.top-panel
  background: #fff
  height: $topPanelHeight
  line-height: $topPanelHeight
  border-bottom: solid 1px rgba(#000, 0.1)
  +box-sizing(border-box)
  +clear
  .projects-index &,
  .tasks-index &,
  .communities-index &
    display: none
  > .pull-left
    > *
      float: left
    > a
      border-right: 1px solid $borderColor
      text-decoration: none
      min-width: $topPanelHeight
      height: $topPanelHeight
      color: inherit
      +inline-block
      +transition(all)
      +box-sizing(border-box)
      i
        font-size: 15px
        line-height: 14px
        position: relative
        top: 2px
    > .btn
      padding-top: 12px
      padding-bottom: 12px
      border: 0
      font-weight: 400
      line-height: 21px
      &:hover
        text-decoration: underline
    > a.navigation, > a.list
      line-height: $topPanelHeight
      height: $topPanelHeight
      background: #245b79
      border: 1px solid transparent
      text-align: center
      display: none
      > i
        font-size: 15px
        color: white
      &:hover
        background: darken(#245b79, 15%)
        border-color: $voronkaBackgroundHover
    > a.voronka
      text-align: center
      width: $topPanelHeight
      line-height: $topPanelHeight
      color: $gray-light
      &:hover
        color: $link-hover-color
    > a.link
      line-height: 44px
      color: #338baf
      padding: 0 18px
      border: none
      > i
        margin-left: 5px
        &.icon-plus
          margin-top: 11px
          background: #3ab54a
          line-height: 20px
          height: 18px
          width: 18px
          text-align: center
          +inline-block
          padding: 0
          color: white
        &.icon-ok
          color: #3bb44b
          &.checkbox
            +inline-block
            width: 14px
            height: 14px
            min-height: 14px
            color: white
            font-size: 11px
            background: #4aaee0
            margin: 0 5px 0 0
            line-height: 14px
            text-align: center
            top: 14px
        &.icon-chevron-down
          color: white
          background: #9fbbbe
          font-size: 11px
          text-align: center
          margin-right: 5px
          margin-left: 0
          +inline-block
          width: 20px
          height: 14px
          line-height: 14px
          top: 14px
      &:hover
        > span
          text-decoration: underline
        > i
          text-decoration: none
      & ~ a.link
        margin-left: 7px
    > a.add-button, > a.collapsed
      padding: 0 10px
      width: $topPanelHeight
      line-height: $topPanelHeight
      font-size: 13px
      border: 1px solid rgba(0, 0, 0, 0.2)
    > a.add-button
      min-width: $filtersColumnWidth
      background: #3ab54a
      border-color: #3ab54a
      text-align: center
      color: white
      font-weight: bold
      white-space: nowrap
      &:hover
        background: #198748
      &.small
        min-width: $topPanelHeight
      &:active
        +transition(0s background-color)
      &.blue
        background: #4daee3
        border-color: #4daee3
        &:hover
          background: lighten(#4daee3, 3%)
        &:active
          background: darken(#4daee3, 5%)
      &.light
        background: #8cc63e
        border-color: #8cc63e
        &:hover
          background: #3ea1c6
          border-color: lighten(#3ea1c6, 10%)
      &.back-button
        text-align: left
        min-width: 50px
        padding-right: 15px
    > a.add-button.small
      display: none
    > a.add-button.big
      display: none
      text-align: left
      &.centered
        text-align: center
      i.icon-plus
        display: inline-block
        margin: 0 10px 0 5px
      span
        display: inline-block
        text-align: center
    > a.add-button.strong
      display: inline
    > a.spinner
      background: #b4c7cb
      width: 44px
      height: 44px
      line-height: 44px
      color: #696566
      text-align: center
      +unselectable
      &:hover
        background: lighten(#b4c7cb, 4%)
    > a.collapsed
      color: white
      background: $brand-primary
      display: none
    > ul
      float: right
      +bordered
      height: 26px
      min-width: 50px
      margin: 8px 6px 0 0
      li
        +inline-block
        & ~ li
          +bordered-left
        &.disabled
          //:display none
          >a
            cursor: default
            color: #cccccc
        > a
          +inline-block
          line-height: 26px
          color: #666666
          text-decoration: none
          padding-left: 15px
          padding-right: 15px
      //li.disabled:first-child + li
      // //:border-left none
    section.subtop
      position: absolute
      display: none
      top: 48px
      +bordered
      background: white
      padding: 15px 14px
      z-index: 200
      +box-shadow(0px 2px 9px rgba(0, 0, 0, 0.2))
      width: 312px
      &.create-contact-window
        width: 348px
      @extend %has-top-left-pimp
      &.shown
        display: block
      p
        margin: 0
        color: #666666
        ~ p
          margin-top: 8px
      input[type=text], input[type=email], textarea
        @extend %full-width-input
        display: block
      input[type=submit]
        +inline-block
        margin: 0
        +button(#348dad)
      ~ section.subtop
        z-index: 201
  > .pull-right
    display: none
    text-align: right
    +children-inline
    > .help-links
      line-height: 48px
      font-size: 23px
      > span
        display: block
        width: $topPanelHeight
        height: $topPanelHeight
        text-align: center
        color: #666666
        background: $headerDarker
        border-left: 1px solid $borderColor
      > section
        position: absolute
        z-index: 5
        left: -1px
        right: -1px
        top: 100%
        height: 44px
        background: $contentBackgroundColor
        border: 1px solid $borderColor
        visibility: hidden
        +opacity(0)
        +transition(all)
        +children-inline
        > a, > div > a, > div
          position: relative
          height: $topPanelHeight
          width: $topPanelHeight
          text-decoration: none
          text-align: center
        a
          +hover-opacity
        > a#Intercom
          background: $navigationBackground
          color: #91a8ae
          border-left: 1px solid $borderColor
        > a.help
          color: #666666
          background: $headerDarker
          border-left: 1px solid $borderColor
        > .contact_support_button
          border-left: 1px solid $borderColor
          > a
            display: block
            background: $navigationBackground
            color: #91a8ae
            font-size: 20px
            > span
              display: none
      &:hover > section
        visibility: visible
        +opacity(1)

%active-switcher-button
  background: $brand-primary
  color: white

.top-panel-title
  font-size: $font-size-h4
  font-weight: bold
  text-align: center

.top-panel-block-left
  margin-right: $grid-gutter-width/2

.top-panel-block-right
  margin-left: $grid-gutter-width/2

.top-panel-btn
  +transition(transform 0.3s ease, opacity 0.3s ease)
  +translate(0, 0)
  opacity: 1
  &.top-panel-btn-hidden
    +translate(0, -100%)
    opacity: 0
